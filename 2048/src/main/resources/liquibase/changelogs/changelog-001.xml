<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
                   xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-3.8.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
    <property name="type.datetime" value="date" dbms="oracle"/>
    <property name="type.datetime" value="timestamp" dbms="mysql"/>
    <property name="type.int" value="NUMBER(*, 0)" dbms="oracle"/>
    <property name="type.int" value="INT" dbms="mysql"/>
    <property name="type.decimal" value="NUMBER(*, 2)" dbms="oracle"/>
    <property name="type.decimal" value="DECIMAL" dbms="mysql"/>
    <!--    字段类型用-->
    <property name="now" value="SYSDATE" dbms="oracle"/>
    <property name="now" value="NOW() ON UPDATE CURRENT_TIMESTAMP()" dbms="mysql"/>
    <!--    插入时用-->
    <property name="time.current" value="SYSDATE" dbms="oracle"/>
    <property name="time.current" value="NOW()" dbms="mysql"/>
    <property name="autoIncrement" value="true" dbms="mysql,h2,postgresql,oracle"/>
    <property name="amount" value="decimal(20,2)"/>
    <property name="uuid" value="sys_guid()" dbms="oracle"/>
    <property name="uuid" value="UUID()" dbms="mysql"/>
    <changeSet author="admin (generated)" id="00001-1" dbms="oracle">
        <createView fullDefinition="true" remarks="表和视图" viewName="V_TABLES_MASTER">
            CREATE OR REPLACE FORCE VIEW V_TABLES_MASTER (TABLE_SCHEMA, TABLENAME, TABLETYPE, COMMENTS, TENANT_ID_) AS
            select SYS_CONTEXT('USERENV','CURRENT_SCHEMA') TABLE_SCHEMA,
            t.tname tableName,
            tabtype tabletype,
            f.comments comments,
            'DEMO' TENANT_ID_
            from tab t
            inner join user_tab_comments f
            on t.tname = f.table_name
            where tname != 'DATABASECHANGELOG'
            and tname != 'DATABASECHANGELOGLOCK'
            and tname != 'UNDO_LOG'
        </createView>
    </changeSet>
    <changeSet author="37514 (generated)" id="00000-2" dbms="mysql">
        <createView fullDefinition="true" remarks="表和视图" viewName="V_TABLES_MASTER">
            CREATE OR REPLACE VIEW V_TABLES_MASTER AS
            SELECT
            TABLE_SCHEMA,
            TABLE_NAME AS TABLENAME,
            case when table_type='BASE TABLE' then 'TABLE' ELSE table_type END AS TABLETYPE,
            TABLE_COMMENT AS COMMENTS,
            'DEMO' TENANT_ID_
            FROM
            information_schema.`TABLES`
            WHERE table_name != 'databasechangeloglock' AND TABLE_NAME != 'databasechangelog' AND TABLE_NAME !=
            'undo_log'
        </createView>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-2" dbms="oracle">
        <createView fullDefinition="true" remarks="表主键视图" viewName="V_TABLE_KEY">CREATE OR REPLACE FORCE VIEW
            V_TABLE_KEY (OWNER, TABLE_NAME, COLUMN_NAME, CONSTRAINT_TYPE, TENANT_ID_) AS select con.owner,
            con.table_name, col.column_name, con.constraint_type,'DEMO' TENANT_ID_
            from user_constraints con, user_cons_columns col
            where con.constraint_name = col.constraint_name
            and con.owner = col.owner
            and con.table_name = col.table_name
            and con.constraint_type = 'P'
        </createView>
    </changeSet>


    <changeSet author="admin (generated)" id="00001-3" dbms="oracle">
        <createView fullDefinition="true" remarks="列视图" viewName="V_COLUMNS_MASTER">CREATE OR REPLACE FORCE VIEW
            V_COLUMNS_MASTER (TENANT_ID_, COLUMN_ID, COLUMN_NAME, DATA_TYPE, DATA_LENGTH, DATA_SCALE, CHAR_LENGTH,
            NULLABLE, DATA_DEFAULT, COMMENTS, TABLE_NAME, TABLE_SCHEMA, PRIMARY_KEY) AS select
            'DEMO' TENANT_ID_,
            a.column_id,
            a."COLUMN_NAME",a."DATA_TYPE",a."DATA_LENGTH",a."DATA_SCALE",a."CHAR_LENGTH",a."NULLABLE",a."DATA_DEFAULT",a."COMMENTS",a."TABLE_NAME",
            SYS_CONTEXT('USERENV', 'CURRENT_SCHEMA') TABLE_SCHEMA,
            case
            when b.constraint_type = 'P' then
            'Y'
            else
            'N'
            end PRIMARY_KEY
            from (select utc.column_id,utc.column_name,
            utc.data_type,
            utc.data_length,
            utc.data_scale,
            utc.char_length,
            utc.nullable,
            '' as data_default,
            ucc.comments,
            utc.table_name
            from user_tab_columns utc, user_col_comments ucc
            where utc.table_name = ucc.table_name
            and utc.column_name = ucc.column_name) a
            left join v_table_key b
            on a.table_name = b.table_name
            and a.column_name = b.column_name
        </createView>
    </changeSet>
    <changeSet author="37514 (generated)" id="00000-5" dbms="mysql">
        <createView fullDefinition="true" remarks="列视图" viewName="V_COLUMNS_MASTER">
            CREATE OR REPLACE VIEW V_COLUMNS_MASTER AS
            SELECT TABLE_SCHEMA,
            ORDINAL_POSITION COLUMN_ID,
            TABLE_NAME,
            COLUMN_NAME,
            DATA_TYPE,
            CHARACTER_MAXIMUM_LENGTH AS 'DATA_LENGTH',
            NUMERIC_SCALE AS 'DATA_SCALE', IFNULL(CHARACTER_MAXIMUM_LENGTH,0)+ IFNULL(NUMERIC_PRECISION,0) AS
            CHAR_LENGTH, CASE WHEN IS_NULLABLE='NO' THEN 'N' ELSE'Y' END AS 'NULLABLE',
            COLUMN_DEFAULT AS 'DEFAULT_VALUE',
            COLUMN_COMMENT AS 'COMMENTS',
            CASE WHEN COLUMN_KEY='PRI' THEN 'Y' ELSE 'N' END AS 'PRIMARY_KEY',
            'DEMO' TENANT_ID_
            FROM
            information_schema.`COLUMNS`
        </createView>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-9">
        <createTable remarks="行政区划表" tableName="TB_ADM_DIV">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TB_ADM_DIV"/>
            </column>
            <column name="ADM_DIV_CODE" remarks="行政区划代码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="ADM_DIV_NAME" remarks="行政区划名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="PARENT_GUID" remarks="父级GUID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="LEAF" remarks="是否末级;YESNO" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="SORT" remarks="顺序号" type="${type.int}">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-10">
        <createTable remarks="通用代码表" tableName="TB_DICTIONARY">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TB_DICTIONARY"/>
            </column>
            <column name="ITEM_CODE" remarks="编码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="ITEM_NAME" remarks="名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="ITEM_TYPE_CODE" remarks="代码类别编码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="ITEM_TYPE_NAME" remarks="代码类别名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="1" name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="1" name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="无" name="REMARKS" remarks="备注" type="NVARCHAR2(900)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="SORT" remarks="顺序号" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="LEAF" remarks="是否末级;YESNO" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="PARENT_GUID" remarks="父级GUID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-11">
        <createTable remarks="数据字典类型表" tableName="TB_DICTYPE">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TB_DICTYPE"/>
            </column>
            <column name="CODE" remarks="编码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" remarks="名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="VAR_NAME" remarks="短语" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-12">
        <createTable remarks="人员表" tableName="TB_EMP">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TB_EMP"/>
            </column>
            <column name="NAME" remarks="姓名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="SEX" remarks="性别;SEX" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="ENTRY_TIME" remarks="入职时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="BIRTHDAY" remarks="出生日期" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="JOB" remarks="职务" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="ADMIN_LEVEL" remarks="行政级" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="TECH_LEVEL" remarks="技术级" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="TECH_TITLE" remarks="职称;TECH_TITLE;LAZY" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="TELEPHONE" remarks="办公电话" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="MOBILE" remarks="手机号码" type="NVARCHAR2(13)">
                <constraints nullable="false"/>
            </column>
            <column name="ADDRESS" remarks="地址" type="NVARCHAR2(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="ADM_DIV_CODE" remarks="区划编码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="ADM_DIV_NAME" remarks="区划名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="ORG_CODE" remarks="机构编码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="ORG_NAME" remarks="机构编码" type="NVARCHAR2(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-13">
        <createTable remarks="一般日志表" tableName="TB_LOG_GENERAL">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TB_LOG_GENERAL"/>
            </column>
            <column name="TRACE_ID" remarks="traceId" type="NVARCHAR2(38)">
                <constraints nullable="true"/>
            </column>
            <column name="SPAN_ID" remarks="spanId" type="NVARCHAR2(38)">
                <constraints nullable="true"/>
            </column>
            <column name="PARENT_ID" remarks="parentId" type="NVARCHAR2(38)">
                <constraints nullable="true"/>
            </column>
            <column name="APP_NAME" remarks="应用名称" type="NVARCHAR2(100)">
                <constraints nullable="true"/>
            </column>
            <column name="HOST_NAME" remarks="主机名称" type="NVARCHAR2(100)">
                <constraints nullable="true"/>
            </column>
            <column name="LOG_LEVEL" remarks="日志级别" type="NVARCHAR2(24)">
                <constraints nullable="false"/>
            </column>
            <column name="CLASS_NAME" remarks="类名" type="NVARCHAR2(255)">
                <constraints nullable="false"/>
            </column>
            <column name="LINE_NO" remarks="行号" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="OPERATOR" remarks="操作人" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="LOG_CONTENT" remarks="日志内容" type="NVARCHAR2(2000)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-14">
        <createTable remarks="组织机构基础表" tableName="TB_ORGANIZATION">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="SYS_C00304347"/>
            </column>
            <column name="CODE" remarks="机构编码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" remarks="机构名称" type="NVARCHAR2(255)">
                <constraints nullable="false"/>
            </column>
            <column name="DIV_CODE" remarks="所属区划" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="LEAF" remarks="是否末级;YESNO" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="PARENT_GUID" remarks="父级GUID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="SORT" remarks="顺序号" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="DIV_NAME" remarks="区划名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-15">
        <createTable remarks="系统资源（功能、菜单）基础表" tableName="TB_RESOURCE">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TB_RESOURCE"/>
            </column>
            <column name="URI" remarks="统一资源标志符" type="NVARCHAR2(255)">
                <constraints nullable="false"/>
            </column>
            <column name="RESOURCE_TYPE" remarks="资源分类 1菜单,2功能点" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="ACCESS_CONTROL_STYLE" remarks="资源访问控制类型01自由访问02登录访问03指定角色访问" type="NVARCHAR2(2)">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" remarks="资源名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="1" name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="1" name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="无" name="REMARKS" remarks="备注" type="NVARCHAR2(900)">
                <constraints nullable="false"/>
            </column>
            <column name="SORT" remarks="顺序号" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="PARENT_GUID" remarks="父级GUID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="LEAF" remarks="是否末级;YESNO" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-16">
        <createTable remarks="系统角色基础表" tableName="TB_ROLE">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TB_ROLE"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CODE" remarks="角色编码" type="NVARCHAR2(24)">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" remarks="角色名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-17">
        <createTable remarks="系统用户基础表" tableName="TB_USER">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TB_USER"/>
            </column>
            <column name="FIRST_NAME" remarks="用户姓" type="NVARCHAR2(100)"/>
            <column name="LAST_NAME" remarks="用户名" type="NVARCHAR2(100)"/>
            <column name="LOGON_NAME" remarks="登录名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="PWD" remarks="用户密码" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="EMAIL" remarks="邮箱" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MOBILE" remarks="手机号" type="NVARCHAR2(20)">
                <constraints nullable="false"/>
            </column>
            <column name="ORG_GUID" remarks="机构GUID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="OFFICE_TEL" remarks="办公电话" type="NVARCHAR2(20)">
                <constraints nullable="false"/>
            </column>
            <column name="ORG_TYPE" remarks="标记orgid隶属的类型：01-单位/部门，02-处室" type="NVARCHAR2(2)">
                <constraints nullable="false"/>
            </column>
            <column name="PWD_TYPE" remarks="密码加密算法GUID" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="无" name="REMARKS" remarks="备注" type="NVARCHAR2(900)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="EMP_GUID" remarks="人员ID" type="NVARCHAR2(38)"/>
            <column name="ADM_DIV_CODE" remarks="区划编码" type="NVARCHAR2(12)"/>
            <column name="ADM_DIV_NAME" remarks="区划名称" type="NVARCHAR2(100)"/>
            <column name="ORG_CODE" remarks="机构编码" type="NVARCHAR2(12)"/>
            <column name="ORG_NAME" remarks="机构编码" type="NVARCHAR2(255)"/>
            <column name="DIV_RANGE_TYPE" remarks="区划权限类型;ADM_DIV_PERMISSION" type="NVARCHAR2(2)">
                <constraints nullable="false"/>
            </column>
            <column name="ORG_RANGE_TYPE" remarks="机构权限类型;ORG_PERMISSION" type="NVARCHAR2(2)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-18">
        <createTable remarks="生成文件的摘要记录表" tableName="TG_FILE_SUMMARY">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TG_FILE_SUMMARY"/>
            </column>
            <column name="FILE_NAME" remarks="文件名" type="NVARCHAR2(255)">
                <constraints nullable="false"/>
            </column>
            <column name="SUMMARY" remarks="摘要" type="NVARCHAR2(64)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-19">
        <createTable remarks="代码生成功能项目定义表" tableName="TG_PROJECT">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TG_PROJECT"/>
            </column>
            <column name="GROUP_ID" remarks="组织ID" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="ARTIFACT_ID" remarks="项目ID" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" remarks="项目名称" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_PROJ" remarks="项目包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_ENTITY" remarks="MP-ENTITY包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_MAPPER" remarks="MP-MAPPER包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_SERVICE" remarks="MP-SERVICE包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_CONTROLLER" remarks="MP-CONTROLLER包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_VO" remarks="VO包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="JAVA_OUTPUT_DIR" remarks="项目JAVA文件路径" type="NVARCHAR2(200)">
                <constraints nullable="false"/>
            </column>
            <column name="XML_OUTPUT_DIR" remarks="项目Mapper XML文件路径" type="NVARCHAR2(200)">
                <constraints nullable="false"/>
            </column>
            <column name="VUE_DIR" remarks="VUE文件路径" type="NVARCHAR2(200)">
                <constraints nullable="false"/>
            </column>
            <column name="API_JS_DIR" remarks="API文件路径" type="NVARCHAR2(200)">
                <constraints nullable="false"/>
            </column>
            <column name="DICTYPE_JS_DIR" remarks="代码类型定义JS路径" type="NVARCHAR2(200)">
                <constraints nullable="false"/>
            </column>
            <column name="VIEWS_DIR" remarks="前端VIEWS文件夹" type="NVARCHAR2(200)">
                <constraints nullable="false"/>
            </column>
            <column name="DEFAULT_PROJ" remarks="是否缺省项目" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLE_SWAGGER" remarks="是否启用swagger" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="AUTHOR" remarks="作者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_MAPSTRUCT" remarks="MAPSTRUCT包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CHANGE_LOG_DIR" remarks="CHANGE_LOG路径" type="NVARCHAR2(200)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_SERVICE_SC" remarks="剧情SERVICE包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="PACKAGE_CONTROLLER_SC" remarks="剧情CONTROLLER包名" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-20">
        <createTable remarks="角色资源关系表" tableName="TR_ROLE_RESOURCE">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="SYS_C00312523"/>
            </column>
            <column name="ROLE_GUID" remarks="角色ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="RESOURCE_GUID" remarks="资源ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-21">
        <createTable remarks="角色用户关联表" tableName="TR_ROLE_USER">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="SYS_C00312539"/>
            </column>
            <column name="ROLE_GUID" remarks="角色ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="USER_GUID" remarks="用户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-22">
        <createTable remarks="用户与区划权限关联表" tableName="TR_USER_ADMDIV">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TR_USER_ADMDIV"/>
            </column>
            <column name="USER_GUID" remarks="用户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="DIV_CODE" remarks="区划编码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-23">
        <createTable remarks="用户与组织机构权限关联表" tableName="TR_USER_ORG">
            <column name="GUID" remarks="主键" type="NVARCHAR2(38)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_TR_USER_ORG"/>
            </column>
            <column name="USER_GUID" remarks="用户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
            <column name="ORG_CODE" remarks="机构编码" type="NVARCHAR2(12)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_BY" remarks="记录创建者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" remarks="记录创建时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_BY" remarks="记录最后修改者" type="NVARCHAR2(100)">
                <constraints nullable="false"/>
            </column>
            <column name="MODIFY_TIME" remarks="记录最后修改时间" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="${now}" name="DATESTAMP" remarks="时间戳" type="${type.datetime}">
                <constraints nullable="false"/>
            </column>
            <column name="ENABLED" remarks="启用状态;ENABLED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="DELETED" remarks="删除状态;DELETED" type="NVARCHAR2(1)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" remarks="乐观锁" type="${type.int}">
                <constraints nullable="false"/>
            </column>
            <column name="REMARKS" remarks="备注" type="NVARCHAR2(900)"/>
            <column name="TENANT_ID_" remarks="租户ID" type="NVARCHAR2(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-27">
        <createIndex indexName="IDX_LOGONNAME" tableName="TB_USER" unique="true">
            <column name="LOGON_NAME"/>
        </createIndex>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-28" dbms="oracle">
        <createIndex indexName="IDX_TB_ADM_DIV_CODE" tableName="TB_ADM_DIV" unique="true">
            <column computed="true" name="CASE &quot;DELETED&quot; WHEN U'1' THEN &quot;ADM_DIV_CODE&quot; END"/>
        </createIndex>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-29" dbms="oracle">
        <createIndex indexName="IDX_TB_DICTIONARY_CODE" tableName="TB_DICTIONARY" unique="true">
            <column computed="true"
                    name="CASE &quot;DELETED&quot; WHEN U'1' THEN &quot;ITEM_TYPE_CODE&quot;||&quot;ITEM_CODE&quot; END"/>
        </createIndex>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-30" dbms="oracle">
        <createIndex indexName="IDX_TB_DICTYPE_CODE" tableName="TB_DICTYPE" unique="true">
            <column computed="true" name="CASE &quot;DELETED&quot; WHEN U'1' THEN &quot;CODE&quot; END"/>
        </createIndex>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-31" dbms="oracle">
        <createIndex indexName="IDX_TB_DICTYPE_VARNAME" tableName="TB_DICTYPE" unique="true">
            <column computed="true" name="CASE &quot;DELETED&quot; WHEN U'1' THEN &quot;VAR_NAME&quot; END"/>
        </createIndex>
    </changeSet>
    <changeSet author="admin (generated)" id="00001-32" dbms="oracle">
        <createIndex indexName="IDX_TB_RESOURCE_URI" tableName="TB_RESOURCE" unique="true">
            <column computed="true" name="CASE &quot;DELETED&quot; WHEN U'1' THEN &quot;URI&quot; END"/>
        </createIndex>
    </changeSet>
</databaseChangeLog>
